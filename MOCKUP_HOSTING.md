# Mockup Hosting System

A Next.js + Vercel hosted static site for deploying business website mockups generated by the business-prospector system.

## Directory Structure

```
mockup-hosting/
├── public/
│   └── m/                          # Mockup host directory
│       ├── joes-pizza/
│       │   ├── index.html          # Individual mockup
│       │   └── [screenshot].png    # Optional screenshot
│       ├── salon-name/
│       │   └── index.html
│       └── manifest.json           # Auto-generated index of all mockups
├── src/
│   ├── app/                        # Next.js app directory
│   │   ├── page.tsx               # Home page
│   │   └── layout.tsx             # Root layout
│   └── components/                 # React components
├── scripts/
│   └── build-mockups.js           # Build script to copy mockups
├── package.json
├── vercel.json                    # Vercel deployment config
└── next.config.ts
```

## How It Works

### 1. Generate Mockups
In the business-prospector project, mockups are generated to:
```
~/business-prospector/data/mockups/{id}_{business-name}.html
```

### 2. Build & Deploy
When you deploy to Vercel:
```bash
npm run build
```

This command:
1. Runs `next build` (builds Next.js assets)
2. Runs `npm run build:mockups` (copies HTML mockups to `/public/m/`)

The build script:
- Reads all `.html` files from the business-prospector mockups directory
- Organizes them into `/public/m/{business-slug}/index.html`
- Generates a `manifest.json` for tracking deployed mockups
- Handles missing source directory gracefully

### 3. Access Mockups
Each mockup is accessible at:
```
https://mockup-hosting.vercel.app/m/{business-slug}/
```

Example: `https://mockup-hosting.vercel.app/m/joes-pizza/`

## Local Development

### Setup
```bash
cd ~/mockup-hosting
npm install
```

### Development Server
```bash
npm run dev
```
Open http://localhost:3000

### Preview Build
```bash
npm run build
npm run start
```

## Directory Permissions
- The build script looks for mockups at `~/business-prospector/data/mockups/`
- Ensure it has read access to that directory

## Manifest File
After each build, `public/m/manifest.json` is generated:
```json
{
  "version": "1.0",
  "buildTime": "2024-02-23T22:00:00Z",
  "mockups": [
    {
      "slug": "joes-pizza",
      "businessId": 123,
      "path": "/m/joes-pizza/",
      "file": "123_joes-pizza.html",
      "size": 45621,
      "copiedAt": "2024-02-23T22:00:00Z"
    }
  ],
  "total": 1
}
```

## Deployment to Vercel

### First Time Setup
```bash
# Login to Vercel (do this when you're home)
vercel login

# Deploy the repo
vercel --prod
```

### Auto-Deployment
Once linked to GitHub, Vercel will auto-deploy on every push:
```bash
git add .
git commit -m "Initial mockup hosting setup"
git push origin main
```

### Environment Variables
No special environment variables needed. The build script uses default paths.

## Troubleshooting

### No mockups showing up?
1. Ensure mockups exist: `ls ~/business-prospector/data/mockups/`
2. Run build script manually: `npm run build:mockups`
3. Check manifest: `cat public/m/manifest.json`

### Build fails?
1. Ensure `scripts/build-mockups.js` is executable: `chmod +x scripts/build-mockups.js`
2. Check Node version: `node --version` (should be v18+)
3. Reinstall dependencies: `rm -rf node_modules && npm install`

## Next Steps

1. Create GitHub repo: `mockup-hosting`
2. Push this code to GitHub
3. Create Vercel project linked to the GitHub repo
4. When mockups are generated, they'll automatically be deployed on next push
5. Share the public URL with prospects

## Custom Domain
To use a custom domain:
1. In Vercel dashboard → Project Settings → Domains
2. Add your custom domain (e.g., `mockups.yourdomain.com`)
3. Update DNS records as instructed by Vercel
